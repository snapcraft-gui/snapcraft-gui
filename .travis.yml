language: cpp

compiler:
  - gcc

sudo: required
dist: xenial

before_install:
  - sudo apt update -qq
  - sudo apt install -qq build-essential qt5-default qttools5-dev-tools qttools5-dev

script:
  - cd snapcraft-qt
  - qmake -r
  - make
  - make check
  - qmake --version

notifications:
  email: false
  irc:
    channels:
      - "irc.freenode.net##snapcraft-gui"
    template:
      - "%{repository}#%{build_number} (%{branch} - %{commit} : %{author}): %{message}"
      - "Change view : %{compare_url}"
      - "Build details : %{build_url}"
    use_notice: true
    skip_join: false
    on_success: always
    on_failure: always
