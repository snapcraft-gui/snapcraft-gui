language: cpp

compiler:
  - gcc

sudo: required
dist: xenial

before_install:
  - sudo apt update -qq
  - sudo apt install -qq build-essential qt5-default qttools5-dev-tools qttools5-dev

script:
  - cd snapcraft-qt
  - qmake -r
  - make
  - make check
  - qmake --version

notifications:
  email: false
  irc:
    channels:
      - "chat.freenode.net##snapcraft-gui"
    template:
      - "%{repository_slug}, build %{build_number}, commit %{commit} (%{commit_subject}) on branch %{branch} was pushed to by %{author} and it resulted in %{result}. Finished in %{elapsed_time} and is available at %{build_url}."
    use_notice: true
    skip_join: false
    on_success: always
    on_failure: always
